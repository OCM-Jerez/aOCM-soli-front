<app-navbar></app-navbar>
<body>
<div class="p-text-center myTituloComponent">
  Solicitudes realizadas
</div>


    <div class="p-grid p-jc-end p-mb-4">
      <button pButton
      *ngIf="isAdmin"
      [routerLink]="['/solicitudes/new']"
      class="p-button-rounded p-button-success"
       type="button"
       icon="pi pi-plus"
        iconPos="left"
        label = 'Crear nueva solicitud'
        ></button>
    </div>


  <div class="table-responsive col-12">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col"><span>Descripción</span></th>
          <th scope="col"><span>Fecha solicitud</span></th>
          <th scope="col"><span>Fecha respuesta</span></th>
          <th scope="col"><span>Días transcurridos</span></th>
          <th scope="col"><span>Observaciones</span></th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let solicitud of solicitudes">
          <td>{{ solicitud.descripcion }}</td>
          <td>{{ solicitud.fechaSolicitud | date: "dd.MM.yyyy" }}</td>
          <td>{{ solicitud.fechaRespuesta | date: "dd.MM.yyyy" }}</td>
          <td
            style="font-weight: bold"
            [ngStyle]="{
              color: solicitud.diasRespuesta! > 30 ? 'red' : 'black'
            }"
          >
            {{ solicitud.diasRespuesta }}
          </td>
          <td>{{ solicitud.observacion }}</td>

          <td class="text-right">
            <div class="btn-group">
              <button
                type="button"
                class="btn btn-info btn-sm"
                [routerLink]="['/solicitudes/details', solicitud.id]"
              >
                <fa-icon [icon]="faEye"></fa-icon>
                <span class="d-none d-md-inline">Ver</span>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>


  <div class="p-grid" >
    <div class="p-col p-mt-4">
    <p-table [value]="[]" styleClass="p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
          <th scope="col"><span>Descripción</span></th>
          <th scope="col"><span>Fecha solicitud</span></th>
          <th scope="col"><span>Fecha respuesta</span></th>
          <th scope="col"><span>Días transcurridos</span></th>
          <th scope="col"><span>Observaciones</span></th>
        </tr>
      </ng-template>


      <ng-template pTemplate="body" let-solicitud>
        <tr>
          <td>{{ solicitud.descripcion }}</td>
          <td>{{ solicitud.fechaSolicitud | date: "dd.MM.yyyy" }}</td>
          <td>{{ solicitud.fechaRespuesta | date: "dd.MM.yyyy" }}</td>
          <td
            style="font-weight: bold"
            [ngStyle]="{
              color: solicitud.diasRespuesta! > 30 ? 'red' : 'black'
            }"
          >
            {{ solicitud.diasRespuesta }}
          </td>
          <td>{{ solicitud.observacion }}</td>

          <td class="text-right">
            <div class="btn-group">
              <button
                type="button"
                class="btn btn-info btn-sm"
                [routerLink]="['/solicitudes/details', solicitud.id]"
              >
                <fa-icon [icon]="faEye"></fa-icon>
                <span class="d-none d-md-inline">Ver</span>
              </button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>







</body>
